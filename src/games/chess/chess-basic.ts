import { BasicGame } from '../../shared/types';
import moves, {GameState} from '../tools/control/moves';
type G = Array<Array<string|null>>;
function chess(name: string, pieces: G) : BasicGame<GameState> {
  return {
    name: name.replaceAll(/[ -]/g, ''),
    displayName: name,

    minPlayers: 1,
    maxPlayers: 2,

    setup: () => {
      return {
        pieces: pieces,
        selectedSquare: null,
        legalMoves: null,
      }
    },
    moves: moves,
  };
}

const games = [
  chess(
    "Chess",
    [
      ['r', 'n', 'b', 'q', 'k', 'b', 'n', 'r'],
      ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
      [null, null, null, null, null, null, null, null],
      [null, null, null, null, null, null, null, null],
      [null, null, null, null, null, null, null, null],
      [null, null, null, null, null, null, null, null],
      ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],
      ['R', 'N', 'B', 'Q', 'K', 'B', 'N', 'R'],
    ]
  ),

  chess(
    "Chess 5-a-Side",
    [
      ['r', 'n', 'b', 'q', 'k'],
      ['p', 'p', 'p', 'p', 'p'],
      [null, null, null, null, null],
      [null, null, null, null, null],
      ['P', 'P', 'P', 'P', 'P'],
      ['R', 'N', 'B', 'Q', 'K'],
    ]
  ),
]

export default games;
